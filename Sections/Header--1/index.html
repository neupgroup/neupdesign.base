<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../index.css">
</head>

<body>

    <header class="header header--1">
        <div class="container">
            <!-- Class "header__aod" has the logo and the toggle that is always visible in the smaller devices. -->
            <div class="header__aod">
                <a href="#" class="header__logo">
                    <div src="" class="logo__image button button--plain">NeupGroup</div>
                </a>
                <!-- Start. -->
                <!-- Only for the small width devices. Used with JavaScript support. -->
                <div class="header__toggle-container">
                    <a class="header__toggle-button button button--plain">
                        <div class="header__toggle-icon button__icon ">
                            <div class="toggle__bar"></div>
                            <div class="toggle__bar"></div>
                        </div>
                    </a>
                </div>
                <!-- Only for the small width devices. Used with JavaScript support. -->
                <!-- End. -->
            </div>
            <nav class="header__nav">
                <!-- Secondary links in the navigation bar. -->
                <a href="#" class="button button--plain button--plain--active">
                    <div class="button__label">Clock</div>
                </a>
                <a href="#" class="button button--plain">
                    <div class="button__label">Stopwatch</div>
                </a>
                <a href="#" class="button button--plain">
                    <div class="button__label">Timer</div>
                </a>
                <a href="#" class="button button--plain">
                    <div class="button__label">Alarm</div>
                </a>
                <!-- Primary links in the navigation bar. -->
                <a href="#" class="button button--solid">
                    <div class="button__label">Hello, Kishor!</div>
                </a>
            </nav>
        </div>
    </header>

    <script>
        // The following are the element selectors.
        const header = document.querySelector("header.header");
        const toggleButton = document.querySelector(".header__toggle-container> .header__toggle-button");
        const menuContainer = document.querySelector('.header > .container .header__nav');
        const topNav = document.querySelector(".header");
        const container = document.querySelector(".header > .container");

        // Start of the Event Listener.
        toggleButton.addEventListener('click', headerButtonToggle);
        window.onload = updateHeaderButton;

        function headerButtonToggle() {
            // Make variable in Global Scope to save scroll position of user.
            let scrollPosition = 0;

            // Toggle the class lists when clicked.
            menuContainer.classList.toggle("header__nav--open");
            toggleButton.classList.toggle("header__toggle-button--clicked");
            toggleButton.classList.toggle("button--plain--active");

            // Check if the navigation bar is expanded.
            if (menuContainer.classList.contains("header__nav--open")) {
                // Remove the scrollbar of the body.
                container.style.overflowY = 'hidden';
                // Make the page un-scrollable but show a scrollbar.
                topNav.style.overflowY = "hidden";
                document.body.style.overflowY = "scroll";
            } else {
                // Remove the scrollbar of the header.
                topNav.style.overflowY = "hidden";
                // Make the page scrollable, also show the old scrollbar.
                document.body.style.overflowY = "scroll";
            }
        }

        function updateHeaderButton() {
            // Get the current URL
            let currentUrl = window.location.href;

            // Normalize the current URL by removing protocol, "www", and any trailing slash
            let normalizedCurrentUrl = currentUrl.replace(/^https?:\/\//, '').replace(/^www\./, '').replace(/\/$/, '').split('?')[0];

            // Select all the navigation links
            const navLinks = document.querySelectorAll('.header__nav > a');

            // Loop through each link to check if it matches the current URL
            navLinks.forEach(link => {
                // Normalize the link URL by removing protocol, "www", and any trailing slash
                let linkUrl = link.href.replace(/^https?:\/\//, '').replace(/^www\./, '').replace(/\/$/, '').split('?')[0];

                // If the normalized link URL matches the normalized current URL, add the active class
                if (linkUrl === normalizedCurrentUrl) {
                    link.classList.add('button--plain--active');
                }
            });
        }
    </script>

</body>

</html>